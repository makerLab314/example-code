<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 11 Update Screen</title>
    <style>
        /* Base Styles */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #000;
            overflow: hidden;
            font-family: "Segoe UI Variable", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            user-select: none; /* Disable text selection */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            touch-action: none; /* Disable touch zoom */
        }

        .full-screen.windows-11 {
            cursor: none;
            height: 100vh;
            width: 100vw;
            background-color: rgb(0, 0, 0);
            color: rgb(255, 255, 255);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: fixed;
            top: 0;
            left: 0;
        }

        .window-11-main-section {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .window-11-main-text {
            font-size: 22px;
            font-weight: 400;
            line-height: 1.6;
            margin-top: 20px;
        }

        .windows-11-bottom-text {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            opacity: 0.8;
        }

        /* Loader Animation */
        :root { --loader-size: 40px; }
        
        .loader {
            position: relative;
            width: var(--loader-size);
            height: var(--loader-size);
            border-radius: 50%;
            animation: 4s linear 1s infinite rotate;
        }

        .loader span::after {
            position: absolute;
            width: calc(var(--loader-size) / 8);
            height: calc(var(--loader-size) / 8);
            border-radius: 50%;
            background-color: #fff;
            content: "";
            display: block;
            transform-origin: calc(var(--loader-size) / 2) calc(var(--loader-size) / 2);
            animation-duration: 4s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
        }

        @keyframes rotate { 0% { transform: rotate(0); } 100% { transform: rotate(360deg); } }
        
        .pip-0::after { transform: rotate(0); animation-name: rotate-0; animation-delay: .9s; }
        .pip-1::after { transform: rotate(20deg); animation-name: rotate-1; animation-delay: 775ms; }
        .pip-2::after { transform: rotate(40deg); animation-name: rotate-2; animation-delay: 650ms; }
        .pip-3::after { transform: rotate(60deg); animation-name: rotate-3; animation-delay: 525ms; }
        .pip-4::after { transform: rotate(80deg); animation-name: rotate-4; animation-delay: .4s; }
        .pip-5::after { transform: rotate(100deg); animation-name: rotate-5; animation-delay: 275ms; }

        @keyframes rotate-0 { 0%, 20% { transform: rotate(0); } 40%, 60% { transform: rotate(180deg); } 100%, 80% { transform: rotate(360deg); } }
        @keyframes rotate-1 { 0%, 20% { transform: rotate(20deg); } 40%, 60% { transform: rotate(200deg); } 100%, 80% { transform: rotate(380deg); } }
        @keyframes rotate-2 { 0%, 20% { transform: rotate(40deg); } 40%, 60% { transform: rotate(220deg); } 100%, 80% { transform: rotate(400deg); } }
        @keyframes rotate-3 { 0%, 20% { transform: rotate(60deg); } 40%, 60% { transform: rotate(240deg); } 100%, 80% { transform: rotate(420deg); } }
        @keyframes rotate-4 { 0%, 20% { transform: rotate(80deg); } 40%, 60% { transform: rotate(260deg); } 100%, 80% { transform: rotate(440deg); } }
        @keyframes rotate-5 { 0%, 20% { transform: rotate(100deg); } 40%, 60% { transform: rotate(280deg); } 100%, 80% { transform: rotate(460deg); } }
    </style>
</head>
<body>

<div class="full-screen windows-11" onclick="toggleFullScreen()">
    <div class="window-11-main-section">
        <div class="loader">
            <span class="pip-0"></span>
            <span class="pip-1"></span>
            <span class="pip-2"></span>
            <span class="pip-3"></span>
            <span class="pip-4"></span>
            <span class="pip-5"></span>
        </div>
        <span class="window-11-main-text">
            <span>Working on updates</span> <br>
            <span id="update-percentage">0</span>% complete.<br>
            <span>Please keep your computer on.</span>
        </span>
    </div>
    <span class="windows-11-bottom-text">Your computer may restart a few times.</span>
</div>

<script>
    // Configuration
    let startPercentage = 1;
    let durationMinutes = 21; // Total time to reach 100%

    let updateIntervalID;

    function setPercentage(val) {
        document.querySelector("#update-percentage").innerText = val;
    }

    function getPercentage() {
        return parseInt(document.querySelector("#update-percentage").innerText);
    }

    function windowsUpdateHandler() {
        let current = getPercentage() + 1;
        if (current <= 100) {
            setPercentage(current);
        } else {
            clearInterval(updateIntervalID);
        }
    }

    function startUpdateTimer() {
        setPercentage(startPercentage);
        let totalMs = durationMinutes * 60 * 1000;
        let intervalMs = totalMs / (100 - startPercentage);
        
        if (updateIntervalID) clearInterval(updateIntervalID);
        updateIntervalID = setInterval(windowsUpdateHandler, intervalMs);
    }

    function toggleFullScreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(e => {
                console.log("Auto-fullscreen blocked by browser policy. Interaction required.");
            });
        }
    }

    // Initialize
    window.addEventListener("DOMContentLoaded", () => {
        startUpdateTimer();
        toggleFullScreen();
    });

    // Ensure fullscreen on any click if not already active
    document.addEventListener("click", () => {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(e => {});
        }
    });

    // Handle 'F' key for fullscreen as well
    window.addEventListener("keypress", (e) => {
        if (e.key === "f" || e.key === "F") {
            toggleFullScreen();
        }
    });

    // Block Context Menu (Right Click)
    document.addEventListener('contextmenu', event => event.preventDefault());

    // Block specific shortcuts and behaviors
    document.addEventListener('keydown', function(e) {
        // Prevent F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U (View Source)
        if (e.keyCode == 123 || 
            (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) || 
            (e.ctrlKey && e.keyCode == 85)) {
            e.preventDefault();
            return false;
        }
        
        // Prevent Zoom: Ctrl + (+ or -)
        if (e.ctrlKey && (e.key === '+' || e.key === '-' || e.key === '=')) {
            e.preventDefault();
        }
    });

    // Block Scroll Zoom (Ctrl + Wheel)
    document.addEventListener('wheel', function(e) {
        if (e.ctrlKey) {
            e.preventDefault();
        }
    }, { passive: false });
</script>

</body>
</html>
